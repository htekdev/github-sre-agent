name: Test Workflow

on:
  push:
    branches: [master, main]
  pull_request:
    branches: [master, main]
  workflow_dispatch:

jobs:
  test-success:
    name: Passing Test
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      
      - name: Run passing test
        run: |
          echo "âœ… This test passes!"
          exit 0

  test-failure:
    name: Failing Test (for SRE Agent)
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      
      - name: Simulate flaky test
        run: |
          echo "ðŸ”´ Simulating a test failure..."
          echo "Error: Connection timed out to test database"
          echo "npm ERR! Test failed. See above for details."
          exit 1
